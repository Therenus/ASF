{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/svobo/Documents/Java_script/ASF/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/svobo/Documents/Java_script/ASF/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useContext,useEffect}from'react';import{useNavigate,useParams}from'react-router-dom';import{BookContext}from'../cAPI';import BookFinder from'../Apis/BookFinder';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BookDetail=function BookDetail(props){var _useParams=useParams(),isbn=_useParams.isbn;var _useContext=useContext(BookContext),selectedBook=_useContext.selectedBook,setSelectetBook=_useContext.setSelectetBook;var navigate=useNavigate();useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return BookFinder.get(\"/\".concat(isbn));case 3:response=_context.sent;setSelectetBook(response.data.data.books);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);if(selectedBook){var handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e,isbn){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.stopPropagation();_context2.prev=1;_context2.next=4;return BookFinder.delete(\"/\".concat(isbn));case 4:response=_context2.sent;navigate(\"/\");_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[1,8]]);}));return function handleDelete(_x,_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"list-group\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"isbn\",children:\"ISBN\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:selectedBook.isbn,disabled:true,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:selectedBook.title,disabled:true,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"author\",children:\"Author\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:selectedBook.author,disabled:true,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"year\",children:\"Year\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:selectedBook.year,disabled:true,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"publisher\",children:\"Publisher\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:selectedBook.publisher,disabled:true,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"language\",children:\"Langueage\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:selectedBook.language,disabled:true,readOnly:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-grid gap-2 d-md-flex justify-content-md-end\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(e){e.stopPropagation();navigate(\"/\");},className:\"btn btn-primary\",children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(e){e.stopPropagation();navigate(\"/\".concat(selectedBook.isbn,\"/update\"));},className:\"btn btn-warning\",children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(e){return handleDelete(e,selectedBook.isbn);},className:\"btn btn-danger\",children:\"Delete\"})]})]});}else{navigate(\"/\");}};export default BookDetail;","map":{"version":3,"names":["React","useContext","useEffect","useNavigate","useParams","BookContext","BookFinder","jsx","_jsx","jsxs","_jsxs","BookDetail","props","_useParams","isbn","_useContext","selectedBook","setSelectetBook","navigate","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","concat","sent","data","books","t0","console","log","stop","apply","arguments","handleDelete","_ref2","_callee2","e","_callee2$","_context2","stopPropagation","delete","_x","_x2","className","children","htmlFor","type","value","disabled","readOnly","title","author","year","publisher","language","onClick"],"sources":["C:/Users/svobo/Documents/Java_script/ASF/client/src/Components/DetailBook.jsx"],"sourcesContent":["import React, { useContext, useEffect } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport { BookContext } from '../cAPI'\r\nimport BookFinder from '../Apis/BookFinder'\r\n\r\nconst BookDetail = (props) => {\r\n  const {isbn} = useParams()\r\n  const {selectedBook, setSelectetBook} = useContext(BookContext)\r\n  const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const response = await BookFinder.get(`/${isbn}`);\r\n                setSelectetBook(response.data.data.books)\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }\r\n        fetchData();\r\n    },[])\r\n\r\n    if (selectedBook){\r\n        const handleDelete = async (e, isbn) => {\r\n            e.stopPropagation();\r\n            try {\r\n                const response = await BookFinder.delete(`/${isbn}`);\r\n  \r\n                navigate(`/`)\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div className=\"list-group\">                \r\n                <form>\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\" htmlFor=\"isbn\">ISBN</label>\r\n                        <input className=\"form-control\" type=\"text\" value={selectedBook.isbn} disabled readOnly />\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\" htmlFor=\"title\">Title</label>\r\n                        <input className=\"form-control\" type=\"text\" value={selectedBook.title} disabled readOnly />\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\" htmlFor=\"author\">Author</label>\r\n                        <input className=\"form-control\" type=\"text\" value={selectedBook.author} disabled readOnly />\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\" htmlFor=\"year\">Year</label>\r\n                        <input className=\"form-control\" type=\"text\" value={selectedBook.year} disabled readOnly />\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\" htmlFor=\"publisher\">Publisher</label>\r\n                        <input className=\"form-control\" type=\"text\" value={selectedBook.publisher} disabled readOnly />\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\" htmlFor=\"language\">Langueage</label>\r\n                        <input className=\"form-control\" type=\"text\" value={selectedBook.language} disabled readOnly />\r\n                        </div>\r\n\r\n                </form>\r\n                <div className=\"d-grid gap-2 d-md-flex justify-content-md-end\">\r\n                    <button type=\"button\" onClick={(e) => {e.stopPropagation(); navigate(`/`) } } className=\"btn btn-primary\">Back</button>\r\n                    <button type=\"button\" onClick={(e) => {e.stopPropagation(); navigate(`/${selectedBook.isbn}/update`) } } className=\"btn btn-warning\">Update</button>\r\n                    <button type=\"button\" onClick={(e) => handleDelete(e, selectedBook.isbn)} className=\"btn btn-danger\">Delete</button>\r\n                </div>            \r\n            </div>\r\n    )\r\n    }else{\r\n        navigate(`/`)  \r\n    }\r\n}\r\n\r\nexport default BookDetail"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}