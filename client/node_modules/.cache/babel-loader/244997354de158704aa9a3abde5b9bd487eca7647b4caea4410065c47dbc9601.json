{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/svobo/Documents/Java_script/ASF/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/svobo/Documents/Java_script/ASF/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useContext,useEffect}from'react';import BookFinder from'../Apis/BookFinder';import{BookContext}from'../cAPI';import{useNavigate}from'react-router-dom';//let navigate = useNavigate\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BookList=function BookList(props){var _useContext=useContext(BookContext),books=_useContext.books,setBooks=_useContext.setBooks;var navigate=useNavigate();useEffect(function(){var fetchdata=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return BookFinder.get(\"/\");case 3:response=_context.sent;setBooks(response.data.data.books);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchdata(){return _ref.apply(this,arguments);};}();fetchdata();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 d-grid gap-2 d-md-flex justify-content-md-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return navigate(\"/addbook\");},className:\"btn btn-danger\",children:\"Add Book\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped-columns\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"table-dark\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Author\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Year\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Publisher\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ISBN\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:books&&books.map(function(books){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return navigate(\"/\".concat(books.isbn));},children:[/*#__PURE__*/_jsx(\"td\",{children:books.title}),/*#__PURE__*/_jsx(\"td\",{children:books.author}),/*#__PURE__*/_jsx(\"td\",{children:books.year}),/*#__PURE__*/_jsx(\"td\",{children:books.publisher}),/*#__PURE__*/_jsx(\"td\",{children:books.isbn})]},books.isbn);})})]})})]});};export default BookList;","map":{"version":3,"names":["React","useContext","useEffect","BookFinder","BookContext","useNavigate","jsx","_jsx","jsxs","_jsxs","BookList","props","_useContext","books","setBooks","navigate","fetchdata","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","data","t0","console","log","stop","apply","arguments","children","className","onClick","e","scope","map","concat","isbn","title","author","year","publisher"],"sources":["C:/Users/svobo/Documents/Java_script/ASF/client/src/Components/BookList.jsx"],"sourcesContent":["import React, {useContext, useEffect} from 'react'\r\nimport BookFinder from '../Apis/BookFinder';\r\nimport { BookContext } from '../cAPI';\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\n//let navigate = useNavigate\r\n\r\nconst BookList = (props) => {\r\n  const {books, setBooks} = useContext(BookContext)\r\n  \r\n  const navigate = useNavigate()\r\n\r\n  useEffect(() => {\r\n    const fetchdata = async () => {\r\n      try {\r\n        const response = await BookFinder.get(\"/\");\r\n        setBooks(response.data.data.books);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n    fetchdata();\r\n  },[])\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mb-3 d-grid gap-2 d-md-flex justify-content-md-end\">\r\n        <button onClick={(e) => navigate(`/addbook`)} className=\"btn btn-danger\">Add Book</button>\r\n      </div>\r\n      <div className=\"mb-3\">\r\n        <table className=\"table table-striped-columns\">\r\n          <thead>\r\n            <tr className=\"table-dark\">\r\n              <th scope=\"col\">Title</th>\r\n              <th scope=\"col\">Author</th>\r\n              <th scope=\"col\">Year</th>\r\n              <th scope=\"col\">Publisher</th>\r\n              <th scope=\"col\">ISBN</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            {books && books.map((books) => {\r\n              return (\r\n                <tr onClick={() => navigate(`/${books.isbn}`)} key={books.isbn}>\r\n                  <td>{books.title}</td>\r\n                 <td>{books.author}</td>\r\n                  <td>{books.year}</td>\r\n                  <td>{books.publisher}</td>\r\n                  <td>{books.isbn}</td> \r\n                </tr>\r\n              )\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>      \r\n  )\r\n};\r\n\r\nexport default BookList\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}