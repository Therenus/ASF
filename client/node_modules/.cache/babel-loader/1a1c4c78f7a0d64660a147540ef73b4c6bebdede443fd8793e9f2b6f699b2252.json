{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/svobo/Documents/Java_script/ASF/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/svobo/Documents/Java_script/ASF/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useContext,useEffect}from'react';import{useNavigate,useParams}from'react-router-dom';import{BookContext}from'../cAPI';import BookFinder from'../Apis/BookFinder';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BookDetail=function BookDetail(props){console.log(\"book detail\");var _useParams=useParams(),isbn=_useParams.isbn;var _useContext=useContext(BookContext),selectedBook=_useContext.selectedBook,setSelectetBook=_useContext.setSelectetBook;var navigate=useNavigate();useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:try{//    const response = await BookFinder.get(`/${isbn}`);\n//    setSelectetBook(response.data.data.books)\n}catch(err){console.log(err);}case 1:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[setSelectetBook,isbn]);if(selectedBook){var handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e,isbn){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.stopPropagation();_context2.prev=1;_context2.next=4;return BookFinder.delete(\"/\".concat(isbn));case 4:response=_context2.sent;console.log(response);navigate(\"/\");_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 12:case\"end\":return _context2.stop();}},_callee2,null,[[1,9]]);}));return function handleDelete(_x,_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"list-group\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"isbn\",children:\"ISBN\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:selectedBook.isbn,disabled:true,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:selectedBook.title,disabled:true,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"author\",children:\"Author\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:selectedBook.author,disabled:true,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"year\",children:\"Year\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:selectedBook.year,disabled:true,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"publisher\",children:\"Publisher\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:selectedBook.publisher,disabled:true,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"language\",children:\"Langueage\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:selectedBook.language,disabled:true,readOnly:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-grid gap-2 d-md-flex justify-content-md-end\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(e){e.stopPropagation();navigate(\"/\");},className:\"btn btn-primary\",children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(e){e.stopPropagation();navigate(\"/\".concat(selectedBook.isbn,\"/update\"));},className:\"btn btn-warning\",children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(e){return handleDelete(e,selectedBook.isbn);},className:\"btn btn-danger\",children:\"Delete\"})]})]});}else{navigate(\"/\");}};export default BookDetail;","map":{"version":3,"names":["React","useContext","useEffect","useNavigate","useParams","BookContext","BookFinder","jsx","_jsx","jsxs","_jsxs","BookDetail","props","console","log","_useParams","isbn","_useContext","selectedBook","setSelectetBook","navigate","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","err","stop","apply","arguments","handleDelete","_ref2","_callee2","e","response","_callee2$","_context2","stopPropagation","delete","concat","sent","t0","_x","_x2","className","children","htmlFor","type","value","disabled","readOnly","title","author","year","publisher","language","onClick"],"sources":["C:/Users/svobo/Documents/Java_script/ASF/client/src/Components/DetailBook.jsx"],"sourcesContent":["import React, { useContext, useEffect } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport { BookContext } from '../cAPI'\r\nimport BookFinder from '../Apis/BookFinder'\r\n\r\nconst BookDetail = (props) => {\r\n    console.log(\"book detail\")\r\n  const {isbn} = useParams()\r\n  const {selectedBook, setSelectetBook} = useContext(BookContext)\r\n  const navigate = useNavigate()\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n        try {\r\n        //    const response = await BookFinder.get(`/${isbn}`);\r\n        //    setSelectetBook(response.data.data.books)\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n    fetchData();\r\n},[setSelectetBook, isbn])\r\n\r\n    if (selectedBook){\r\n        const handleDelete = async (e, isbn) => {\r\n            e.stopPropagation();\r\n            try {\r\n                const response = await BookFinder.delete(`/${isbn}`);\r\n                console.log(response);\r\n                navigate(`/`)\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div className=\"list-group\">                \r\n                <form>\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\" htmlFor=\"isbn\">ISBN</label>\r\n                        <input className=\"form-control\" type=\"text\" value={selectedBook.isbn} disabled readOnly />\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\" htmlFor=\"title\">Title</label>\r\n                        <input className=\"form-control\" type=\"text\" value={selectedBook.title} disabled readOnly />\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\" htmlFor=\"author\">Author</label>\r\n                        <input className=\"form-control\" type=\"text\" value={selectedBook.author} disabled readOnly />\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\" htmlFor=\"year\">Year</label>\r\n                        <input className=\"form-control\" type=\"text\" value={selectedBook.year} disabled readOnly />\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\" htmlFor=\"publisher\">Publisher</label>\r\n                        <input className=\"form-control\" type=\"text\" value={selectedBook.publisher} disabled readOnly />\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\" htmlFor=\"language\">Langueage</label>\r\n                        <input className=\"form-control\" type=\"text\" value={selectedBook.language} disabled readOnly />\r\n                        </div>\r\n\r\n                </form>\r\n                <div className=\"d-grid gap-2 d-md-flex justify-content-md-end\">\r\n                    <button type=\"button\" onClick={(e) => {e.stopPropagation(); navigate(`/`) } } className=\"btn btn-primary\">Back</button>\r\n                    <button type=\"button\" onClick={(e) => {e.stopPropagation(); navigate(`/${selectedBook.isbn}/update`) } } className=\"btn btn-warning\">Update</button>\r\n                    <button type=\"button\" onClick={(e) => handleDelete(e, selectedBook.isbn)} className=\"btn btn-danger\">Delete</button>\r\n                </div>            \r\n            </div>\r\n    )\r\n    }else{\r\n        navigate(`/`)  \r\n    }\r\n}\r\n\r\nexport default BookDetail"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}