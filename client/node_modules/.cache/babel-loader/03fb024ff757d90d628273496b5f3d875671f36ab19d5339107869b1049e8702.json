{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/svobo/Documents/Java_script/ASF/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/svobo/Documents/Java_script/ASF/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useContext,useEffect}from'react';import BookFinder from'../Apis/BookFinder';import{BookContext}from'../cAPI';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BookList=function BookList(props){var _useContext=useContext(BookContext),books=_useContext.books,setBooks=_useContext.setBooks,selectedCategory=_useContext.selectedCategory;var navigate=useNavigate();useEffect(function(){var fetchdata=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!selectedCategory){_context.next=4;break;}try{// const response = await BookFinder.get(\"/\", { params: {category: selectedCategory}})\n// console.log (response)\n// setBooks(response.data.data.books);\n}catch(err){console.log(err);}_context.next=14;break;case 4:_context.prev=4;_context.next=7;return BookFinder.get(\"/\");case 7:response=_context.sent;setBooks(response.data.data.books);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](4);console.log(_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[4,11]]);}));return function fetchdata(){return _ref.apply(this,arguments);};}();fetchdata();},[setBooks,selectedCategory]);return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:selectedCategory,disabled:true,readOnly:true}),\" \"]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped-columns\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"table-dark\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Author\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Year\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Publisher\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ISBN\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Category\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:books&&books.map(function(books){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(e){return navigate(\"/\".concat(books.isbn));},children:[/*#__PURE__*/_jsx(\"td\",{children:books.title}),/*#__PURE__*/_jsx(\"td\",{children:books.author}),/*#__PURE__*/_jsx(\"td\",{children:books.year}),/*#__PURE__*/_jsx(\"td\",{children:books.publisher}),/*#__PURE__*/_jsx(\"td\",{children:books.isbn}),/*#__PURE__*/_jsx(\"td\",{children:books.category})]},books.isbn);})})]})]});};export default BookList;","map":{"version":3,"names":["React","useContext","useEffect","BookFinder","BookContext","useNavigate","jsx","_jsx","jsxs","_jsxs","BookList","props","_useContext","books","setBooks","selectedCategory","navigate","fetchdata","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","err","console","log","get","sent","data","t0","stop","apply","arguments","className","children","type","value","disabled","readOnly","scope","map","onClick","e","concat","isbn","title","author","year","publisher","category"],"sources":["C:/Users/svobo/Documents/Java_script/ASF/client/src/Components/BookList.jsx"],"sourcesContent":["import React, {useContext, useEffect} from 'react'\r\nimport BookFinder from '../Apis/BookFinder';\r\nimport { BookContext } from '../cAPI';\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst BookList = (props) => {\r\n  const {books, setBooks, selectedCategory} = useContext(BookContext)\r\n  \r\n  const navigate = useNavigate()\r\n\r\n  useEffect(() => {\r\n    const fetchdata = async () => {\r\n      if (selectedCategory) {\r\n        try {\r\n         // const response = await BookFinder.get(\"/\", { params: {category: selectedCategory}})\r\n         // console.log (response)\r\n         // setBooks(response.data.data.books);\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      }else{\r\n        try {\r\n          const response = await BookFinder.get(\"/\");\r\n          setBooks(response.data.data.books);\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    }\r\n    fetchdata();\r\n  },[setBooks, selectedCategory])\r\n\r\n  return (\r\n      <div className=\"mb-3\">\r\n        <div>\r\n        <label></label>  \r\n        <input className=\"form-control\" type=\"text\" value={selectedCategory} disabled readOnly /> </div>\r\n        <table className=\"table table-striped-columns\">\r\n          <thead>\r\n            <tr className=\"table-dark\">\r\n              <th scope=\"col\">Title</th>\r\n              <th scope=\"col\">Author</th>\r\n              <th scope=\"col\">Year</th>\r\n              <th scope=\"col\">Publisher</th>\r\n              <th scope=\"col\">ISBN</th>\r\n              <th scope=\"col\">Category</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {books && books.map((books) => {\r\n              return (\r\n                <tr onClick={(e) => navigate(`/${books.isbn}`)} key={books.isbn}>\r\n                  <td>{books.title}</td>\r\n                 <td>{books.author}</td>\r\n                  <td>{books.year}</td>\r\n                  <td>{books.publisher}</td>\r\n                  <td>{books.isbn}</td>\r\n                  <td>{books.category}</td> \r\n                </tr>\r\n              )\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>      \r\n  )\r\n};\r\n\r\nexport default BookList\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}